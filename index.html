<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Area de Informatica</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        /* Reduce base font size for overall scaling */
        html {
            font-size: 80%; /* Reduces overall size by 20% */
        }

        /* Custom animations for transitions */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeOutUp {
            from {
                opacity: 1;
                transform: translateY(0);
            }
            to {
                opacity: 0;
                transform: translateY(-20px);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes blob {
            0% {
                transform: translate(0px, 0px) scale(1);
            }
            33% {
                transform: translate(30px, -50px) scale(1.1);
            }
            66% {
                transform: translate(-20px, 20px) scale(0.9);
            }
            100% {
                transform: translate(0px, 0px) scale(1);
            }
        }

        .animate-fade-in-down {
            animation: fadeInDown 0.5s ease-out forwards;
        }

        .animate-fade-out-up {
            animation: fadeOutUp 0.3s ease-in forwards;
        }

        .animate-fade-in-up {
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .animate-blob {
            animation: blob 7s infinite;
        }

        .animation-delay-2000 {
            animation-delay: 2s;
        }

        .animation-delay-4000 {
            animation-delay: 4s;
        }

        /* General body styling */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            color: #1a202c; /* gray-900 */
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }

        /* Mobile menu specific styles for height and visibility */
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh; /* Full viewport height */
            background-color: white;
            z-index: 40;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 2rem;
            animation: fadeInDown 0.5s ease-out forwards;
        }

        .mobile-menu-item-container {
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out;
        }

        .mobile-menu-item-container.hidden-height {
            max-height: 0;
            opacity: 0;
        }

        .mobile-menu-item-container.visible-height {
            max-height: 1000px; /* Large enough to contain content */
            opacity: 1;
        }

        /* Desktop dropdown specific styles */
        .group .group-hover\:opacity-100 {
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
            transform: scale(0.95);
            transform-origin: top;
        }

        .group:hover .group-hover\:opacity-100 {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
        }

        .group\/grade .group-hover\/grade\:opacity-100 {
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
            transform: scale(0.95);
            transform-origin: left;
        }

        .group\/grade:hover .group-hover\/grade\:opacity-100 {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
        }

        .group\/subject .group-hover\/subject\:opacity-100 {
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
            transform: scale(0.95);
            transform-origin: left;
        }

        .group\/subject:hover .group-hover\/subject\:opacity-100 {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
        }

        /* Ensure header is at the very top */
        header {
            top: 0 !important;
        }
    </style>
</head>
<body class="font-inter antialiased text-gray-900">

    <!-- Header -->
    <header class="bg-white shadow-md py-3 px-1 md:px-3 fixed w-full z-50">
        <div class="container mx-auto flex justify-between items-center">
            <!-- Logo -->
            <a href="#" class="flex items-center space-x-4"> <!-- Adjusted space-x to 4 -->
                <img src="imagenes/logo.png" alt="Logo" width="160" height="auto"> <!-- Adjusted width -->
                <span class="text-2xl font-bold text-blue-800">Area de Informatica</span>
            </a>

            <!-- Desktop Navigation -->
            <nav class="hidden md:flex space-x-6"> <!-- Adjusted space-x -->
                <a href="#" class="text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200">Inicio</a>
                <!-- Nested Dropdown for Grados -->
                <div class="relative group">
                    <button class="text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200 focus:outline-none">
                        Cursos <span class="ml-1 text-xs">&#9662;</span>
                    </button>
                    <div class="absolute left-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 ease-in-out transform scale-95 group-hover:scale-100 origin-top">
                        <!-- Grados -->
                        <div id="desktop-grades-menu"></div>
                    </div>
                </div>
                <!-- "Aprende Pseudocodigo aqui" link for desktop -->
                <a href="pseudocode.html" target="_blank" class="text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200">Aprende Pseudocódigo aquí</a>
                <a href="https://wa.me/50488422786" target="_blank" class="text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200">Contacto</a>
            </nav>

            <!-- Flag Image for Desktop -->
            <img src="imagenes/bandera-de-honduras.png" alt="Bandera de Honduras" width="160" height="auto" class="hidden md:block"> <!-- Adjusted width -->

            <!-- Mobile Hamburger Menu -->
            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-gray-700 focus:outline-none">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path id="mobile-menu-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Mobile Menu Overlay -->
        <div id="mobile-menu-overlay" class="hidden">
            <button id="mobile-menu-close-button" class="absolute top-4 right-6 text-gray-700 focus:outline-none">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
            <nav class="flex flex-col space-y-5 mt-12 w-full px-5"> <!-- Adjusted space-y and mt/px -->
                <a href="#" class="text-gray-800 hover:text-blue-600 font-semibold text-xl text-center py-2 transition-colors duration-200" onclick="closeMobileMenu()">Inicio</a>
                <!-- Mobile Grados Menu -->
                <div class="w-full">
                    <button id="mobile-courses-toggle" class="w-full text-gray-800 hover:text-blue-600 font-semibold text-xl text-center py-2 flex justify-between items-center transition-colors duration-200">
                        Cursos
                        <span id="mobile-courses-arrow" class="transform transition-transform duration-300">&#9656;</span>
                    </button>
                    <div id="mobile-grades-container" class="mobile-menu-item-container hidden-height">
                        <div class="pl-3 pt-1 flex flex-col space-y-2" id="mobile-grades-menu"> <!-- Adjusted pl/pt/space-y -->
                            <!-- Grades will be injected here by JS -->
                        </div>
                    </div>
                </div>
                <!-- "Aprende Pseudocodigo aqui" link for mobile -->
                <a href="pseudocode.js" target="_blank" class="text-gray-800 hover:text-blue-600 font-semibold text-xl text-center py-2 transition-colors duration-200" onclick="closeMobileMenu()">Aprende Pseudocódigo aquí</a>
                <a href="https://wa.me/50488422786" target="_blank" class="text-gray-800 hover:text-blue-600 font-semibold text-xl text-center py-2 transition-colors duration-200" onclick="closeMobileMenu()">Contacto</a>
            </nav>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="relative bg-gradient-to-r from-blue-600 to-purple-700 text-white py-16 md:py-24 flex items-center justify-center min-h-[50vh] mt-12"> <!-- Adjusted py and mt -->
            <div class="container mx-auto text-center px-5"> <!-- Adjusted px -->
                <h1 class="text-4xl md:text-6xl font-extrabold leading-tight mb-5 animate-fade-in-up"> <!-- Adjusted mb -->
                    Bienvenidos alumnos del sistema isemed
                </h1>
                <p class="text-lg md:text-xl mb-7 max-w-2xl mx-auto opacity-90 animate-fade-in-up delay-2000"> <!-- Adjusted mb -->
                    Aquí formamos corazones con alegría, fe, esperanza... y tecnologia
                </p>
                <!-- Removed the buttons from here -->
            </div>
            <!-- Abstract shapes for background -->
            <div class="absolute inset-0 overflow-hidden">
                <div class="absolute w-52 h-52 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob top-8 left-8"></div> <!-- Adjusted w/h/top/left -->
                <div class="absolute w-56 h-56 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000 bottom-16 right-16"></div> <!-- Adjusted w/h/bottom/right -->
                <div class="absolute w-64 h-64 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000 top-32 right-8"></div> <!-- Adjusted w/h/top/right -->
            </div>
        </section>

        <!-- Content Download Section -->
        <section class="py-12 md:py-20 bg-gray-50"> <!-- Adjusted py -->
            <div class="container mx-auto px-5 text-center"> <!-- Adjusted px -->
                <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-10"> <!-- Adjusted text size and mb -->
                    Descarga Contenido de Clases
                </h2>

                <div class="max-w-2xl mx-auto bg-white p-6 rounded-2xl shadow-xl border border-gray-200"> <!-- Adjusted max-w and p -->
                    <div id="content-back-button-container" class="text-left mb-5 hidden"> <!-- Adjusted mb -->
                        <button id="content-back-button" class="inline-flex items-center text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200">
                            <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg> <!-- Adjusted w/h/mr -->
                            Volver
                        </button>
                    </div>

                    <div id="content-display-area" class="min-h-[160px] flex flex-col justify-center items-center"> <!-- Adjusted min-h -->
                        <!-- Initial button or dynamic content will be injected here -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8"> <!-- Adjusted py -->
        <div class="container mx-auto px-5 text-center"> <!-- Adjusted px -->
            <p class="text-base mb-3"> <!-- Adjusted text size and mb -->
                &copy; <span id="current-year"></span> Instituto Maria Auxiliadora - Area de Informatica ISEMED. Todos los derechos reservados.
            </p>
            <div class="flex justify-center space-x-5"> <!-- Adjusted space-x -->
                <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">Privacidad</a>
                <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">Términos</a>
                <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">Soporte</a>
            </div>
        </div>
    </footer>

    <script>
        // Data for educational content
        const educationData = [
            {
                grade: "Décimo",
                subjects: [
                    {
                        name: "Informática I",
                        topics: [
                            { title: "Historia de la Computación", file: "Informatica_I/historia_de_la_computacion.pdf" },
                            { title: "Partes y Tipos de Computadora", file: "Informatica_I/partes_y_tipos_de_computadora.pdf" }
                        ]
                    }
                ]
            },
            {
                grade: "Undécimo",
                subjects: [
                    {
                        name: "Informática Aplicada I",
                        topics: [
                            { title: "Dispositivos de Almacenamiento", file: "II_BTP_A/Informatica_Aplicada_I/dispositivos_de_almacenamiento.pdf" },
                            { title: "Fundamentos de Sistemas Operativos", file: "II_BTP_A/Informatica_Aplicada_I/fundamentos_de_sistemas_operativos.pdf" }
                        ]
                    },
                    { // Moved Ofimática I to Undécimo
                        name: "Ofimática I",
                        topics: [
                            { title: "Procesadores de Texto", file: "II_BTP_A/Ofimatica_I/procesadores_de_texto.pdf" }
                        ]
                    },
                    { // Moved Análisis y Diseño de Sistemas to Undécimo
                        name: "Análisis y Diseño de Sistemas",
                        topics: [
                            { title: "Análisis y Diseño de Sistemas", file: "II_BTP_A/analisis_diseno/analisis_y_diseno_de_sistemas.pdf" },
                            { title: "Rol del Analista de Sistemas", file: "II_BTP_A/analisis_diseno/rol_del_analista_de_sistemas.pdf" }
                        ]
                    }
                ]
            },
            {
                grade: "Duodécimo",
                subjects: [
                    {
                        name: "Diseño Web II",
                        topics: [
                            { title: "Backend y Frontend", file: "III_BTP_A/dw_II/front_end_vs_back_end.pdf" },
                            { title: "Fundamentos de JavaScript", file: "III_BTP_A/dw_II/fundamentos_de_js.pdf" }
                        ]
                    }
                ]
            }
        ];

        // --- Global State for Content Section ---
        let currentContentView = 'initial'; // 'initial', 'grades', 'subjects', 'topics'
        let selectedGradeData = null;
        let selectedSubjectData = null;

        // --- Utility function to create a custom button ---
        function createCustomButton(text, onClickHandler, className = '') {
            const button = document.createElement('button');
            button.textContent = text;
            button.onclick = onClickHandler;
            button.className = `
                px-5 py-2.5 rounded-xl font-semibold text-base
                bg-blue-600 text-white hover:bg-blue-700
                transition-all duration-300 ease-in-out
                shadow-lg hover:shadow-xl transform hover:-translate-y-1
                focus:outline-none focus:ring-4 focus:ring-blue-300
                ${className}
            `;
            return button;
        }

        // --- Header (Mobile Menu) Logic ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenuCloseButton = document.getElementById('mobile-menu-close-button');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
        const mobileMenuIcon = document.getElementById('mobile-menu-icon');
        const mobileCoursesToggle = document.getElementById('mobile-courses-toggle');
        const mobileCoursesArrow = document.getElementById('mobile-courses-arrow');
        const mobileGradesContainer = document.getElementById('mobile-grades-container');
        const mobileGradesMenu = document.getElementById('mobile-grades-menu');

        let activeMobileGradeElement = null; // Stores the currently open grade container in mobile menu
        let activeMobileSubjectElement = null; // Stores the currently open subject container in mobile menu

        function toggleMobileMenu() {
            mobileMenuOverlay.classList.toggle('hidden');
            mobileMenuOverlay.classList.toggle('mobile-menu-overlay'); // Apply overlay styles
            mobileMenuIcon.setAttribute('d', mobileMenuOverlay.classList.contains('hidden') ? 'M4 6h16M4 12h16M4 18h16' : 'M6 18L18 6M6 6l12 12');

            // Reset mobile menu state when closing
            if (mobileMenuOverlay.classList.contains('hidden')) {
                mobileGradesContainer.classList.remove('visible-height');
                mobileGradesContainer.classList.add('hidden-height');
                mobileCoursesArrow.classList.remove('rotate-90');
                mobileCoursesArrow.classList.add('rotate-0');
                // Close any open sub-menus
                if (activeMobileGradeElement) {
                    activeMobileGradeElement.classList.remove('visible-height');
                    activeMobileGradeElement.classList.add('hidden-height');
                    activeMobileGradeElement.previousElementSibling.querySelector('span').classList.remove('rotate-90');
                    activeMobileGradeElement.previousElementSibling.querySelector('span').classList.add('rotate-0');
                    activeMobileGradeElement = null;
                }
                if (activeMobileSubjectElement) {
                    activeMobileSubjectElement.classList.remove('visible-height');
                    activeMobileSubjectElement.classList.add('hidden-height');
                    activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.remove('rotate-90');
                    activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.add('rotate-0');
                    activeMobileSubjectElement = null;
                }
            }
        }

        function closeMobileMenu() {
            mobileMenuOverlay.classList.add('hidden');
            mobileMenuOverlay.classList.remove('mobile-menu-overlay');
            mobileMenuIcon.setAttribute('d', 'M4 6h16M4 12h16M4 18h16');
            // Reset mobile menu state
            mobileGradesContainer.classList.remove('visible-height');
            mobileGradesContainer.classList.add('hidden-height');
            mobileCoursesArrow.classList.remove('rotate-90');
            mobileCoursesArrow.classList.add('rotate-0');
            if (activeMobileGradeElement) {
                activeMobileGradeElement.classList.remove('visible-height');
                activeMobileGradeElement.classList.add('hidden-height');
                activeMobileGradeElement.previousElementSibling.querySelector('span').classList.remove('rotate-90');
                activeMobileGradeElement.previousElementSibling.querySelector('span').classList.add('rotate-0');
                activeMobileGradeElement = null;
            }
            if (activeMobileSubjectElement) {
                activeMobileSubjectElement.classList.remove('visible-height');
                activeMobileSubjectElement.classList.add('hidden-height');
                activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.remove('rotate-90');
                activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.add('rotate-0');
                activeMobileSubjectElement = null;
            }
        }

        mobileMenuButton.addEventListener('click', toggleMobileMenu);
        mobileMenuCloseButton.addEventListener('click', toggleMobileMenu);

        // Close mobile menu when clicking outside
        document.addEventListener('mousedown', (event) => {
            if (!mobileMenuOverlay.classList.contains('hidden') && !mobileMenuOverlay.contains(event.target) && !mobileMenuButton.contains(event.target)) {
                closeMobileMenu();
            }
        });

        mobileCoursesToggle.addEventListener('click', () => {
            mobileGradesContainer.classList.toggle('hidden-height');
            mobileGradesContainer.classList.toggle('visible-height');
            mobileCoursesArrow.classList.toggle('rotate-90');
            mobileCoursesArrow.classList.toggle('rotate-0');
        });

        // Function to render desktop navigation menu
        function renderDesktopNav() {
            const desktopGradesMenu = document.getElementById('desktop-grades-menu');
            desktopGradesMenu.innerHTML = ''; // Clear previous content

            // Décimo
            let gradeDivDecimo = document.createElement('div');
            gradeDivDecimo.className = 'relative group/grade';
            let gradeButtonDecimo = document.createElement('button');
            gradeButtonDecimo.className = 'block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200 focus:outline-none';
            gradeButtonDecimo.innerHTML = `Décimo <span class="float-right text-xs">&#9656;</span>`;
            gradeDivDecimo.appendChild(gradeButtonDecimo);
            let subjectDivDecimo = document.createElement('div');
            subjectDivDecimo.className = 'absolute left-full top-0 mt-0 w-56 bg-white rounded-lg shadow-lg py-2 opacity-0 invisible group-hover/grade:opacity-100 group-hover/grade:visible transition-all duration-300 ease-in-out transform scale-95 group-hover/grade:scale-100 origin-left';
            
            let subjectSubDivInformaticaI_Decimo = document.createElement('div');
            subjectSubDivInformaticaI_Decimo.className = 'relative group/subject';
            let subjectButtonInformaticaI_Decimo = document.createElement('button');
            subjectButtonInformaticaI_Decimo.className = 'block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200 focus:outline-none';
            subjectButtonInformaticaI_Decimo.innerHTML = `Informática I <span class="float-right text-xs">&#9656;</span>`;
            subjectSubDivInformaticaI_Decimo.appendChild(subjectButtonInformaticaI_Decimo);
            let topicDivInformaticaI_Decimo = document.createElement('div');
            topicDivInformaticaI_Decimo.className = 'absolute left-full top-0 mt-0 w-64 bg-white rounded-lg shadow-lg py-2 opacity-0 invisible group-hover/subject:opacity-100 group-hover/subject:visible transition-all duration-300 ease-in-out transform scale-95 group-hover/subject:scale-100 origin-left';
            topicDivInformaticaI_Decimo.innerHTML = `
                <a href="Informatica_I/historia_computacion.htm" target="_blank" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200">Historia de la Computación</a>
                <a href="Informatica_I/Partes_Computadora.html" target="_blank" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200">Partes de la Computadora</a>
            `;
            subjectSubDivInformaticaI_Decimo.appendChild(topicDivInformaticaI_Decimo);
            subjectDivDecimo.appendChild(subjectSubDivInformaticaI_Decimo);
            gradeDivDecimo.appendChild(subjectDivDecimo);
            desktopGradesMenu.appendChild(gradeDivDecimo);

            // Undécimo
            let gradeDivUndecimo = document.createElement('div');
            gradeDivUndecimo.className = 'relative group/grade';
            let gradeButtonUndecimo = document.createElement('button');
            gradeButtonUndecimo.className = 'block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200 focus:outline-none';
            gradeButtonUndecimo.innerHTML = `Undécimo <span class="float-right text-xs">&#9656;</span>`;
            gradeDivUndecimo.appendChild(gradeButtonUndecimo);
            let subjectDivUndecimo = document.createElement('div');
            subjectDivUndecimo.className = 'absolute left-full top-0 mt-0 w-56 bg-white rounded-lg shadow-lg py-2 opacity-0 invisible group-hover/grade:opacity-100 group-hover/grade:visible transition-all duration-300 ease-in-out transform scale-95 group-hover/grade:scale-100 origin-left';
            
            let subjectSubDivInformaticaAplicadaI_Undecimo = document.createElement('div');
            subjectSubDivInformaticaAplicadaI_Undecimo.className = 'relative group/subject';
            let subjectButtonInformaticaAplicadaI_Undecimo = document.createElement('button');
            subjectButtonInformaticaAplicadaI_Undecimo.className = 'block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200 focus:outline-none';
            subjectButtonInformaticaAplicadaI_Undecimo.innerHTML = `Informática Aplicada I <span class="float-right text-xs">&#9656;</span>`;
            subjectSubDivInformaticaAplicadaI_Undecimo.appendChild(subjectButtonInformaticaAplicadaI_Undecimo);
            let topicDivInformaticaAplicadaI_Undecimo = document.createElement('div');
            topicDivInformaticaAplicadaI_Undecimo.className = 'absolute left-full top-0 mt-0 w-64 bg-white rounded-lg shadow-lg py-2 opacity-0 invisible group-hover/subject:opacity-100 group-hover/subject:visible transition-all duration-300 ease-in-out transform scale-95 group-hover/subject:scale-100 origin-left';
            topicDivInformaticaAplicadaI_Undecimo.innerHTML = `
                <a href="II_BTP_A/Informatica_Aplicada_I/sistemas_operativos.html" target="_blank" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200">Sistemas Operativos</a>
                <a href="II_BTP_A/Informatica_Aplicada_I/dispositivos_almac.html" target="_blank" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200">Dispositivos de Almacenamiento</a>
            `;
            subjectSubDivInformaticaAplicadaI_Undecimo.appendChild(topicDivInformaticaAplicadaI_Undecimo);
            subjectDivUndecimo.appendChild(subjectSubDivInformaticaAplicadaI_Undecimo);

            // Ofimática I for Undécimo (Moved back)
            let subjectSubDivOfimaticaI_Undecimo = document.createElement('div');
            subjectSubDivOfimaticaI_Undecimo.className = 'relative group/subject';
            let subjectButtonOfimaticaI_Undecimo = document.createElement('button');
            subjectButtonOfimaticaI_Undecimo.className = 'block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200 focus:outline-none';
            subjectButtonOfimaticaI_Undecimo.innerHTML = `Ofimática I <span class="float-right text-xs">&#9656;</span>`;
            subjectSubDivOfimaticaI_Undecimo.appendChild(subjectButtonOfimaticaI_Undecimo);
            let topicDivOfimaticaI_Undecimo = document.createElement('div');
            topicDivOfimaticaI_Undecimo.className = 'absolute left-full top-0 mt-0 w-64 bg-white rounded-lg shadow-lg py-2 opacity-0 invisible group-hover/subject:opacity-100 group-hover/subject:visible transition-all duration-300 ease-in-out transform scale-95 group-hover/subject:scale-100 origin-left';
            topicDivOfimaticaI_Undecimo.innerHTML = `
                <a href="II_BTP_A/Ofimatica_I/procesadores_texto.html" target="_blank" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200">Procesadores de Texto</a>
            `;
            subjectSubDivOfimaticaI_Undecimo.appendChild(topicDivOfimaticaI_Undecimo);
            subjectDivUndecimo.appendChild(subjectSubDivOfimaticaI_Undecimo);

            // Análisis y Diseño de Sistemas for Undécimo (Moved back)
            let subjectSubDivAnalisisDiseno_Undecimo = document.createElement('div');
            subjectSubDivAnalisisDiseno_Undecimo.className = 'relative group/subject';
            let subjectButtonAnalisisDiseno_Undecimo = document.createElement('button');
            subjectButtonAnalisisDiseno_Undecimo.className = 'block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200 focus:outline-none';
            subjectButtonAnalisisDiseno_Undecimo.innerHTML = `Análisis y Diseño de Sistemas <span class="float-right text-xs">&#9656;</span>`;
            subjectSubDivAnalisisDiseno_Undecimo.appendChild(subjectButtonAnalisisDiseno_Undecimo);
            let topicDivAnalisisDiseno_Undecimo = document.createElement('div');
            topicDivAnalisisDiseno_Undecimo.className = 'absolute left-full top-0 mt-0 w-64 bg-white rounded-lg shadow-lg py-2 opacity-0 invisible group-hover/subject:opacity-100 group-hover/subject:visible transition-all duration-300 ease-in-out transform scale-95 group-hover/subject:scale-100 origin-left';
            topicDivAnalisisDiseno_Undecimo.innerHTML = `
                <a href="II_BTP_A/analisis_diseno/analisis_y_diseno_s.html" target="_blank" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200">Análisis y Diseño de Sistemas</a>
                <a href="II_BTP_A/analisis_diseno/rol_analista_sistemas.html" target="_blank" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200">Rol del Analista de Sistemas</a>
            `;
            subjectSubDivAnalisisDiseno_Undecimo.appendChild(topicDivAnalisisDiseno_Undecimo);
            subjectDivUndecimo.appendChild(subjectSubDivAnalisisDiseno_Undecimo);

            gradeDivUndecimo.appendChild(subjectDivUndecimo);
            desktopGradesMenu.appendChild(gradeDivUndecimo);

            // Duodécimo
            let gradeDivDuodecimo = document.createElement('div');
            gradeDivDuodecimo.className = 'relative group/grade';
            let gradeButtonDuodecimo = document.createElement('button');
            gradeButtonDuodecimo.className = 'block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200 focus:outline-none';
            gradeButtonDuodecimo.innerHTML = `Duodécimo <span class="float-right text-xs">&#9656;</span>`;
            gradeDivDuodecimo.appendChild(gradeButtonDuodecimo);
            let subjectDivDuodecimo = document.createElement('div');
            subjectDivDuodecimo.className = 'absolute left-full top-0 mt-0 w-56 bg-white rounded-lg shadow-lg py-2 opacity-0 invisible group-hover/grade:opacity-100 group-hover/grade:visible transition-all duration-300 ease-in-out transform scale-95 group-hover/grade:scale-100 origin-left';
            
            let subjectSubDivDisenoWebII_Duodecimo = document.createElement('div');
            subjectSubDivDisenoWebII_Duodecimo.className = 'relative group/subject';
            let subjectButtonDisenoWebII_Duodecimo = document.createElement('button');
            subjectButtonDisenoWebII_Duodecimo.className = 'block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200 focus:outline-none';
            subjectButtonDisenoWebII_Duodecimo.innerHTML = `Diseño Web II <span class="float-right text-xs">&#9656;</span>`;
            subjectSubDivDisenoWebII_Duodecimo.appendChild(subjectButtonDisenoWebII_Duodecimo);
            let topicDivDisenoWebII_Duodecimo = document.createElement('div');
            topicDivDisenoWebII_Duodecimo.className = 'absolute left-full top-0 mt-0 w-64 bg-white rounded-lg shadow-lg py-2 opacity-0 invisible group-hover/subject:opacity-100 group-hover/subject:visible transition-all duration-300 ease-in-out transform scale-95 group-hover/subject:scale-100 origin-left';
            topicDivDisenoWebII_Duodecimo.innerHTML = `
                <a href="III_BTP_A/dw_II/backend_frontend.html" target="_blank" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200">Backend y Frontend</a>
                <a href="III_BTP_A/dw_II/fundamentos_js.html" target="_blank" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200">Fundamentos de JavaScript</a>
            `;
            subjectSubDivDisenoWebII_Duodecimo.appendChild(topicDivDisenoWebII_Duodecimo);
            subjectDivDuodecimo.appendChild(subjectSubDivDisenoWebII_Duodecimo);
            
            gradeDivDuodecimo.appendChild(subjectDivDuodecimo);
            desktopGradesMenu.appendChild(gradeDivDuodecimo);

            // Recursos Adicionales (Desktop) - now with direct article links
            let gradeDivRecursos = document.createElement('div');
            gradeDivRecursos.className = 'relative group/grade';
            let gradeButtonRecursos = document.createElement('button');
            gradeButtonRecursos.className = 'block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200 focus:outline-none';
            gradeButtonRecursos.innerHTML = `Recursos Adicionales <span class="float-right text-xs">&#9656;</span>`;
            gradeDivRecursos.appendChild(gradeButtonRecursos);
            let subjectDivRecursos = document.createElement('div');
            subjectDivRecursos.className = 'absolute left-full top-0 mt-0 w-64 bg-white rounded-lg shadow-lg py-2 opacity-0 invisible group-hover/grade:opacity-100 group-hover/grade:visible transition-all duration-300 ease-in-out transform scale-95 group-hover/grade:scale-100 origin-left';
            
            subjectDivRecursos.innerHTML = `
                <a href="II_BTP_A/Ofimatica_I/articulo-destreza.html" target="_blank" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200">Destreza en el teclado</a>
                <a href="Informatica_I/articulo_lineadetiempo.html" target="_blank" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors duration-200">Línea de tiempo de la computación</a>
            `;
            gradeDivRecursos.appendChild(subjectDivRecursos);
            desktopGradesMenu.appendChild(gradeDivRecursos);
        }

        // Function to render mobile navigation menu
        function renderMobileNav() {
            mobileGradesMenu.innerHTML = ''; // Clear previous content

            // Mobile Décimo
            let gradeDivMobileDecimo = document.createElement('div');
            gradeDivMobileDecimo.className = 'w-full';
            let gradeButtonMobileDecimo = document.createElement('button');
            gradeButtonMobileDecimo.className = 'w-full text-left text-gray-700 hover:text-blue-500 font-medium text-lg py-2 flex justify-between items-center transition-colors duration-200';
            gradeButtonMobileDecimo.innerHTML = `Décimo <span class="transform transition-transform duration-300">&#9656;</span>`;
            gradeDivMobileDecimo.appendChild(gradeButtonMobileDecimo);
            let subjectContainerMobileDecimo = document.createElement('div');
            subjectContainerMobileDecimo.className = 'mobile-menu-item-container hidden-height';
            subjectContainerMobileDecimo.innerHTML = '<div class="pl-4 pt-2 flex flex-col space-y-2"></div>';
            gradeDivMobileDecimo.appendChild(subjectContainerMobileDecimo);
            gradeButtonMobileDecimo.addEventListener('click', () => {
                if (activeMobileGradeElement && activeMobileGradeElement !== subjectContainerMobileDecimo) {
                    activeMobileGradeElement.classList.remove('visible-height');
                    activeMobileGradeElement.classList.add('hidden-height');
                    activeMobileGradeElement.previousElementSibling.querySelector('span').classList.remove('rotate-90');
                    activeMobileGradeElement.previousElementSibling.querySelector('span').classList.add('rotate-0');
                    if (activeMobileSubjectElement) { activeMobileSubjectElement.classList.remove('visible-height'); activeMobileSubjectElement.classList.add('hidden-height'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.remove('rotate-90'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.add('rotate-0'); activeMobileSubjectElement = null; }
                }
                subjectContainerMobileDecimo.classList.toggle('hidden-height');
                subjectContainerMobileDecimo.classList.toggle('visible-height');
                gradeButtonMobileDecimo.querySelector('span').classList.toggle('rotate-90');
                gradeButtonMobileDecimo.querySelector('span').classList.toggle('rotate-0');
                activeMobileGradeElement = subjectContainerMobileDecimo.classList.contains('visible-height') ? subjectContainerMobileDecimo : null;
            });
            let subjectMenuMobileDecimo = subjectContainerMobileDecimo.querySelector('div');
            // Informatica I for Décimo
            let subjectDivMobileInformaticaI_Decimo = document.createElement('div');
            subjectDivMobileInformaticaI_Decimo.className = 'w-full';
            let subjectButtonMobileInformaticaI_Decimo = document.createElement('button');
            subjectButtonMobileInformaticaI_Decimo.className = 'w-full text-left text-gray-600 hover:text-blue-400 text-base py-2 flex justify-between items-center transition-colors duration-200';
            subjectButtonMobileInformaticaI_Decimo.innerHTML = `Informática I <span class="transform transition-transform duration-300">&#9656;</span>`;
            subjectDivMobileInformaticaI_Decimo.appendChild(subjectButtonMobileInformaticaI_Decimo);
            let topicContainerMobileInformaticaI_Decimo = document.createElement('div');
            topicContainerMobileInformaticaI_Decimo.className = 'mobile-menu-item-container hidden-height';
            topicContainerMobileInformaticaI_Decimo.innerHTML = '<div class="pl-4 pt-2 flex flex-col space-y-1"></div>';
            subjectDivMobileInformaticaI_Decimo.appendChild(topicContainerMobileInformaticaI_Decimo);
            subjectButtonMobileInformaticaI_Decimo.addEventListener('click', () => {
                if (activeMobileSubjectElement && activeMobileSubjectElement !== topicContainerMobileInformaticaI_Decimo) { activeMobileSubjectElement.classList.remove('visible-height'); activeMobileSubjectElement.classList.add('hidden-height'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.remove('rotate-90'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.add('rotate-0'); }
                topicContainerMobileInformaticaI_Decimo.classList.toggle('hidden-height');
                topicContainerMobileInformaticaI_Decimo.classList.toggle('visible-height');
                subjectButtonMobileInformaticaI_Decimo.querySelector('span').classList.toggle('rotate-90');
                subjectButtonMobileInformaticaI_Decimo.querySelector('span').classList.toggle('rotate-0');
                activeMobileSubjectElement = topicContainerMobileInformaticaI_Decimo.classList.contains('visible-height') ? topicContainerMobileInformaticaI_Decimo : null;
            });
            let topicMenuMobileInformaticaI_Decimo = topicContainerMobileInformaticaI_Decimo.querySelector('div');
            topicMenuMobileInformaticaI_Decimo.innerHTML = `
                <a href="Informatica_I/historia_computacion.htm" target="_blank" class="block text-gray-500 hover:text-blue-300 text-sm py-1 transition-colors duration-200" onclick="closeMobileMenu()">Historia de la Computación</a>
                <a href="Informatica_I/Partes_Computadora.html" target="_blank" class="block text-gray-500 hover:text-blue-300 text-sm py-1 transition-colors duration-200" onclick="closeMobileMenu()">Partes de la Computadora</a>
            `;
            subjectMenuMobileDecimo.appendChild(subjectDivMobileInformaticaI_Decimo);
            mobileGradesMenu.appendChild(gradeDivMobileDecimo);

            // Mobile Undécimo
            let gradeDivMobileUndecimo = document.createElement('div');
            gradeDivMobileUndecimo.className = 'w-full';
            let gradeButtonMobileUndecimo = document.createElement('button');
            gradeButtonMobileUndecimo.className = 'w-full text-left text-gray-700 hover:text-blue-500 font-medium text-lg py-2 flex justify-between items-center transition-colors duration-200';
            gradeButtonMobileUndecimo.innerHTML = `Undécimo <span class="transform transition-transform duration-300">&#9656;</span>`;
            gradeDivMobileUndecimo.appendChild(gradeButtonMobileUndecimo);
            let subjectContainerMobileUndecimo = document.createElement('div');
            subjectContainerMobileUndecimo.className = 'mobile-menu-item-container hidden-height';
            subjectContainerMobileUndecimo.innerHTML = '<div class="pl-4 pt-2 flex flex-col space-y-2"></div>';
            gradeDivMobileUndecimo.appendChild(subjectContainerMobileUndecimo);
            gradeButtonMobileUndecimo.addEventListener('click', () => {
                if (activeMobileGradeElement && activeMobileGradeElement !== subjectContainerMobileUndecimo) {
                    activeMobileGradeElement.classList.remove('visible-height');
                    activeMobileGradeElement.classList.add('hidden-height');
                    activeMobileGradeElement.previousElementSibling.querySelector('span').classList.remove('rotate-90');
                    activeMobileGradeElement.previousElementSibling.querySelector('span').classList.add('rotate-0');
                    if (activeMobileSubjectElement) { activeMobileSubjectElement.classList.remove('visible-height'); activeMobileSubjectElement.classList.add('hidden-height'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.remove('rotate-90'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.add('rotate-0'); activeMobileSubjectElement = null; }
                }
                subjectContainerMobileUndecimo.classList.toggle('hidden-height');
                subjectContainerMobileUndecimo.classList.toggle('visible-height');
                gradeButtonMobileUndecimo.querySelector('span').classList.toggle('rotate-90');
                gradeButtonMobileUndecimo.querySelector('span').classList.toggle('rotate-0');
                activeMobileGradeElement = subjectContainerMobileUndecimo.classList.contains('visible-height') ? subjectContainerMobileUndecimo : null;
            });
            let subjectMenuMobileUndecimo = subjectContainerMobileUndecimo.querySelector('div');

            // Informatica Aplicada I for Undécimo
            let subjectDivMobileInformaticaAplicadaI_Undecimo = document.createElement('div');
            subjectDivMobileInformaticaAplicadaI_Undecimo.className = 'w-full';
            let subjectButtonMobileInformaticaAplicadaI_Undecimo = document.createElement('button');
            subjectButtonMobileInformaticaAplicadaI_Undecimo.className = 'w-full text-left text-gray-600 hover:text-blue-400 text-base py-2 flex justify-between items-center transition-colors duration-200';
            subjectButtonMobileInformaticaAplicadaI_Undecimo.innerHTML = `Informática Aplicada I <span class="transform transition-transform duration-300">&#9656;</span>`;
            subjectDivMobileInformaticaAplicadaI_Undecimo.appendChild(subjectButtonMobileInformaticaAplicadaI_Undecimo);
            let topicContainerMobileInformaticaAplicadaI_Undecimo = document.createElement('div');
            topicContainerMobileInformaticaAplicadaI_Undecimo.className = 'mobile-menu-item-container hidden-height';
            topicContainerMobileInformaticaAplicadaI_Undecimo.innerHTML = '<div class="pl-4 pt-2 flex flex-col space-y-1"></div>';
            subjectDivMobileInformaticaAplicadaI_Undecimo.appendChild(topicContainerMobileInformaticaAplicadaI_Undecimo);
            subjectButtonMobileInformaticaAplicadaI_Undecimo.addEventListener('click', () => {
                if (activeMobileSubjectElement && activeMobileSubjectElement !== topicContainerMobileInformaticaAplicadaI_Undecimo) { activeMobileSubjectElement.classList.remove('visible-height'); activeMobileSubjectElement.classList.add('hidden-height'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.remove('rotate-90'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.add('rotate-0'); }
                topicContainerMobileInformaticaAplicadaI_Undecimo.classList.toggle('hidden-height');
                topicContainerMobileInformaticaAplicadaI_Undecimo.classList.toggle('visible-height');
                subjectButtonMobileInformaticaAplicadaI_Undecimo.querySelector('span').classList.toggle('rotate-90');
                subjectButtonMobileInformaticaAplicadaI_Undecimo.querySelector('span').classList.toggle('rotate-0');
                activeMobileSubjectElement = topicContainerMobileInformaticaAplicadaI_Undecimo.classList.contains('visible-height') ? topicContainerMobileInformaticaAplicadaI_Undecimo : null;
            });
            let topicMenuMobileInformaticaAplicadaI_Undecimo = topicContainerMobileInformaticaAplicadaI_Undecimo.querySelector('div');
            topicMenuMobileInformaticaAplicadaI_Undecimo.innerHTML = `
                <a href="II_BTP_A/Informatica_Aplicada_I/sistemas_operativos.html" target="_blank" class="block text-gray-500 hover:text-blue-300 text-sm py-1 transition-colors duration-200" onclick="closeMobileMenu()">Sistemas Operativos</a>
                <a href="II_BTP_A/Informatica_Aplicada_I/dispositivos_almac.html" target="_blank" class="block text-gray-500 hover:text-blue-300 text-sm py-1 transition-colors duration-200" onclick="closeMobileMenu()">Dispositivos de Almacenamiento</a>
            `;
            subjectMenuMobileUndecimo.appendChild(subjectDivMobileInformaticaAplicadaI_Undecimo);

            // Ofimatica I for Undécimo (Mobile)
            let subjectDivMobileOfimaticaI_Undecimo = document.createElement('div');
            subjectDivMobileOfimaticaI_Undecimo.className = 'w-full';
            let subjectButtonMobileOfimaticaI_Undecimo = document.createElement('button');
            subjectButtonMobileOfimaticaI_Undecimo.className = 'w-full text-left text-gray-600 hover:text-blue-400 text-base py-2 flex justify-between items-center transition-colors duration-200';
            subjectButtonMobileOfimaticaI_Undecimo.innerHTML = `Ofimática I <span class="transform transition-transform duration-300">&#9656;</span>`;
            subjectDivMobileOfimaticaI_Undecimo.appendChild(subjectButtonMobileOfimaticaI_Undecimo);
            let topicContainerMobileOfimaticaI_Undecimo = document.createElement('div');
            topicContainerMobileOfimaticaI_Undecimo.className = 'mobile-menu-item-container hidden-height';
            topicContainerMobileOfimaticaI_Undecimo.innerHTML = '<div class="pl-4 pt-2 flex flex-col space-y-1"></div>';
            subjectDivMobileOfimaticaI_Undecimo.appendChild(topicContainerMobileOfimaticaI_Undecimo);
            subjectButtonMobileOfimaticaI_Undecimo.addEventListener('click', () => {
                if (activeMobileSubjectElement && activeMobileSubjectElement !== topicContainerMobileOfimaticaI_Undecimo) { activeMobileSubjectElement.classList.remove('visible-height'); activeMobileSubjectElement.classList.add('hidden-height'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.remove('rotate-90'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.add('rotate-0'); }
                topicContainerMobileOfimaticaI_Undecimo.classList.toggle('hidden-height');
                topicContainerMobileOfimaticaI_Undecimo.classList.toggle('visible-height');
                subjectButtonMobileOfimaticaI_Undecimo.querySelector('span').classList.toggle('rotate-90');
                subjectButtonMobileOfimaticaI_Undecimo.querySelector('span').classList.toggle('rotate-0');
                activeMobileSubjectElement = topicContainerMobileOfimaticaI_Undecimo.classList.contains('visible-height') ? topicContainerMobileOfimaticaI_Undecimo : null;
            });
            let topicMenuMobileOfimaticaI_Undecimo = topicContainerMobileOfimaticaI_Undecimo.querySelector('div');
            topicMenuMobileOfimaticaI_Undecimo.innerHTML = `
                <a href="II_BTP_A/Ofimatica_I/procesadores_texto.html" target="_blank" class="block text-gray-500 hover:text-blue-300 text-sm py-1 transition-colors duration-200" onclick="closeMobileMenu()">Procesadores de Texto</a>
            `;
            subjectMenuMobileUndecimo.appendChild(subjectDivMobileOfimaticaI_Undecimo);

            // Análisis y Diseño de Sistemas for Undécimo (Mobile)
            let subjectDivMobileAnalisisDiseno_Undecimo = document.createElement('div');
            subjectDivMobileAnalisisDiseno_Undecimo.className = 'w-full';
            let subjectButtonMobileAnalisisDiseno_Undecimo = document.createElement('button');
            subjectButtonMobileAnalisisDiseno_Undecimo.className = 'w-full text-left text-gray-600 hover:text-blue-400 text-base py-2 flex justify-between items-center transition-colors duration-200';
            subjectButtonMobileAnalisisDiseno_Undecimo.innerHTML = `Análisis y Diseño de Sistemas <span class="transform transition-transform duration-300">&#9656;</span>`;
            subjectDivMobileAnalisisDiseno_Undecimo.appendChild(subjectButtonMobileAnalisisDiseno_Undecimo);
            let topicContainerMobileAnalisisDiseno_Undecimo = document.createElement('div');
            topicContainerMobileAnalisisDiseno_Undecimo.className = 'mobile-menu-item-container hidden-height';
            topicContainerMobileAnalisisDiseno_Undecimo.innerHTML = '<div class="pl-4 pt-2 flex flex-col space-y-1"></div>';
            subjectDivMobileAnalisisDiseno_Undecimo.appendChild(topicContainerMobileAnalisisDiseno_Undecimo);
            subjectButtonMobileAnalisisDiseno_Undecimo.addEventListener('click', () => {
                if (activeMobileSubjectElement && activeMobileSubjectElement !== topicContainerMobileAnalisisDiseno_Undecimo) { activeMobileSubjectElement.classList.remove('visible-height'); activeMobileSubjectElement.classList.add('hidden-height'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.remove('rotate-90'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.add('rotate-0'); }
                topicContainerMobileAnalisisDiseno_Undecimo.classList.toggle('hidden-height');
                topicContainerMobileAnalisisDiseno_Undecimo.classList.toggle('visible-height');
                subjectButtonMobileAnalisisDiseno_Undecimo.querySelector('span').classList.toggle('rotate-90');
                subjectButtonMobileAnalisisDiseno_Undecimo.querySelector('span').classList.toggle('rotate-0');
                activeMobileSubjectElement = topicContainerMobileAnalisisDiseno_Undecimo.classList.contains('visible-height') ? topicContainerMobileAnalisisDiseno_Undecimo : null;
            });
            let topicMenuMobileAnalisisDiseno_Undecimo = topicContainerMobileAnalisisDiseno_Undecimo.querySelector('div');
            topicMenuMobileAnalisisDiseno_Undecimo.innerHTML = `
                <a href="II_BTP_A/analisis_diseno/analisis_y_diseno_s.html" target="_blank" class="block text-gray-500 hover:text-blue-300 text-sm py-1 transition-colors duration-200" onclick="closeMobileMenu()">Análisis y Diseño de Sistemas</a>
                <a href="II_BTP_A/analisis_diseno/rol_analista_sistemas.html" target="_blank" class="block text-gray-500 hover:text-blue-300 text-sm py-1 transition-colors duration-200" onclick="closeMobileMenu()">Rol del Analista de Sistemas</a>
            `;
            subjectMenuMobileUndecimo.appendChild(subjectDivMobileAnalisisDiseno_Undecimo);
            mobileGradesMenu.appendChild(gradeDivMobileUndecimo);

            // Mobile Duodécimo
            let gradeDivMobileDuodecimo = document.createElement('div');
            gradeDivMobileDuodecimo.className = 'w-full';
            let gradeButtonMobileDuodecimo = document.createElement('button');
            gradeButtonMobileDuodecimo.className = 'w-full text-left text-gray-700 hover:text-blue-500 font-medium text-lg py-2 flex justify-between items-center transition-colors duration-200';
            gradeButtonMobileDuodecimo.innerHTML = `Duodécimo <span class="transform transition-transform duration-300">&#9656;</span>`;
            gradeDivMobileDuodecimo.appendChild(gradeButtonMobileDuodecimo);
            let subjectContainerMobileDuodecimo = document.createElement('div');
            subjectContainerMobileDuodecimo.className = 'mobile-menu-item-container hidden-height';
            subjectContainerMobileDuodecimo.innerHTML = '<div class="pl-4 pt-2 flex flex-col space-y-2"></div>';
            gradeDivMobileDuodecimo.appendChild(subjectContainerMobileDuodecimo);
            gradeButtonMobileDuodecimo.addEventListener('click', () => {
                if (activeMobileGradeElement && activeMobileGradeElement !== subjectContainerMobileDuodecimo) {
                    activeMobileGradeElement.classList.remove('visible-height');
                    activeMobileGradeElement.classList.add('hidden-height');
                    activeMobileGradeElement.previousElementSibling.querySelector('span').classList.remove('rotate-90');
                    activeMobileGradeElement.previousElementSibling.querySelector('span').classList.add('rotate-0');
                    if (activeMobileSubjectElement) { activeMobileSubjectElement.classList.remove('visible-height'); activeMobileSubjectElement.classList.add('hidden-height'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.remove('rotate-90'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.add('rotate-0'); activeMobileSubjectElement = null; }
                }
                subjectContainerMobileDuodecimo.classList.toggle('hidden-height');
                subjectContainerMobileDuodecimo.classList.toggle('visible-height');
                gradeButtonMobileDuodecimo.querySelector('span').classList.toggle('rotate-90');
                gradeButtonMobileDuodecimo.querySelector('span').classList.toggle('rotate-0');
                activeMobileGradeElement = subjectContainerMobileDuodecimo.classList.contains('visible-height') ? subjectContainerMobileDuodecimo : null;
            });
            let subjectMenuMobileDuodecimo = subjectContainerMobileDuodecimo.querySelector('div');

            // Diseño Web II for Duodécimo
            let subjectDivMobileDisenoWebII_Duodecimo = document.createElement('div');
            subjectDivMobileDisenoWebII_Duodecimo.className = 'w-full';
            let subjectButtonMobileDisenoWebII_Duodecimo = document.createElement('button');
            subjectButtonMobileDisenoWebII_Duodecimo.className = 'w-full text-left text-gray-600 hover:text-blue-400 text-base py-2 flex justify-between items-center transition-colors duration-200';
            subjectButtonMobileDisenoWebII_Duodecimo.innerHTML = `Diseño Web II <span class="transform transition-transform duration-300">&#9656;</span>`;
            subjectDivMobileDisenoWebII_Duodecimo.appendChild(subjectButtonMobileDisenoWebII_Duodecimo);
            let topicContainerMobileDisenoWebII_Duodecimo = document.createElement('div');
            topicContainerMobileDisenoWebII_Duodecimo.className = 'mobile-menu-item-container hidden-height';
            topicContainerMobileDisenoWebII_Duodecimo.innerHTML = '<div class="pl-4 pt-2 flex flex-col space-y-1"></div>';
            subjectDivMobileDisenoWebII_Duodecimo.appendChild(topicContainerMobileDisenoWebII_Duodecimo);
            subjectButtonMobileDisenoWebII_Duodecimo.addEventListener('click', () => {
                if (activeMobileSubjectElement && activeMobileSubjectElement !== topicContainerMobileDisenoWebII_Duodecimo) { activeMobileSubjectElement.classList.remove('visible-height'); activeMobileSubjectElement.classList.add('hidden-height'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.remove('rotate-90'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.add('rotate-0'); }
                topicContainerMobileDisenoWebII_Duodecimo.classList.toggle('hidden-height');
                topicContainerMobileDisenoWebII_Duodecimo.classList.toggle('visible-height');
                subjectButtonMobileDisenoWebII_Duodecimo.querySelector('span').classList.toggle('rotate-90');
                subjectButtonMobileDisenoWebII_Duodecimo.querySelector('span').classList.toggle('rotate-0');
                activeMobileSubjectElement = topicContainerMobileDisenoWebII_Duodecimo.classList.contains('visible-height') ? topicContainerMobileDisenoWebII_Duodecimo : null;
            });
            let topicMenuMobileDisenoWebII_Duodecimo = topicContainerMobileDisenoWebII_Duodecimo.querySelector('div');
            topicMenuMobileDisenoWebII_Duodecimo.innerHTML = `
                <a href="III_BTP_A/dw_II/backend_frontend.html" target="_blank" class="block text-gray-500 hover:text-blue-300 text-sm py-1 transition-colors duration-200" onclick="closeMobileMenu()">Backend y Frontend</a>
                <a href="III_BTP_A/dw_II/fundamentos_js.html" target="_blank" class="block text-gray-500 hover:text-blue-300 text-sm py-1 transition-colors duration-200" onclick="closeMobileMenu()">Fundamentos de JavaScript</a>
            `;
            subjectMenuMobileDuodecimo.appendChild(subjectDivMobileDisenoWebII_Duodecimo);
            mobileGradesMenu.appendChild(gradeDivMobileDuodecimo);

            // Mobile Recursos Adicionales - now with direct article links
            let gradeDivMobileRecursos = document.createElement('div');
            gradeDivMobileRecursos.className = 'w-full';
            let gradeButtonMobileRecursos = document.createElement('button');
            gradeButtonMobileRecursos.className = 'w-full text-left text-gray-700 hover:text-blue-500 font-medium text-lg py-2 flex justify-between items-center transition-colors duration-200';
            gradeButtonMobileRecursos.innerHTML = `Recursos Adicionales <span class="transform transition-transform duration-300">&#9656;</span>`;
            gradeDivMobileRecursos.appendChild(gradeButtonMobileRecursos);
            let subjectContainerMobileRecursos = document.createElement('div');
            subjectContainerMobileRecursos.className = 'mobile-menu-item-container hidden-height';
            subjectContainerMobileRecursos.innerHTML = '<div class="pl-4 pt-2 flex flex-col space-y-2"></div>';
            gradeDivMobileRecursos.appendChild(subjectContainerMobileRecursos);
            gradeButtonMobileRecursos.addEventListener('click', () => {
                if (activeMobileGradeElement && activeMobileGradeElement !== subjectContainerMobileRecursos) {
                    activeMobileGradeElement.classList.remove('visible-height');
                    activeMobileGradeElement.classList.add('hidden-height');
                    activeMobileGradeElement.previousElementSibling.querySelector('span').classList.remove('rotate-90');
                    activeMobileGradeElement.previousElementSibling.querySelector('span').classList.add('rotate-0');
                    if (activeMobileSubjectElement) { activeMobileSubjectElement.classList.remove('visible-height'); activeMobileSubjectElement.classList.add('hidden-height'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.remove('rotate-90'); activeMobileSubjectElement.previousElementSibling.querySelector('span').classList.add('rotate-0'); activeMobileSubjectElement = null; }
                }
                subjectContainerMobileRecursos.classList.toggle('hidden-height');
                subjectContainerMobileRecursos.classList.toggle('visible-height');
                gradeButtonMobileRecursos.querySelector('span').classList.toggle('rotate-90');
                gradeButtonMobileRecursos.querySelector('span').classList.toggle('rotate-0');
                activeMobileGradeElement = subjectContainerMobileRecursos.classList.contains('visible-height') ? subjectContainerMobileRecursos : null;
            });
            let subjectMenuMobileRecursos = subjectContainerMobileRecursos.querySelector('div');
            
            // Direct article links
            subjectMenuMobileRecursos.innerHTML += `
                <a href="II_BTP_A/Ofimatica_I/articulo-destreza.html" target="_blank" class="block text-gray-500 hover:text-blue-300 text-sm py-1 transition-colors duration-200" onclick="closeMobileMenu()">Destreza en el teclado</a>
                <a href="Informatica_I/articulo_lineadetiempo.html" target="_blank" class="block text-gray-500 hover:text-blue-300 text-sm py-1 transition-colors duration-200" onclick="closeMobileMenu()">Línea de tiempo de la computación</a>
            `;
            mobileGradesMenu.appendChild(gradeDivMobileRecursos);
        }


        // --- Content Section Logic ---
        const contentDisplayArea = document.getElementById('content-display-area');
        const contentBackButtonContainer = document.getElementById('content-back-button-container');
        const contentBackButton = document.getElementById('content-back-button');

        function animateContentTransition(callback) {
            contentDisplayArea.classList.add('animate-fade-out-up');
            setTimeout(() => {
                contentDisplayArea.classList.remove('animate-fade-out-up');
                contentDisplayArea.innerHTML = ''; // Clear content
                callback(); // Execute the content rendering
                contentDisplayArea.classList.add('animate-fade-in-down');
            }, 300); // Match fadeOutUp animation duration
        }

        function renderInitialContentButton() {
            contentBackButtonContainer.classList.add('hidden');
            const initialButton = createCustomButton('Contenido de Clases', handleInitialClick);
            contentDisplayArea.appendChild(initialButton);
            currentContentView = 'initial';
        }

        function handleInitialClick() {
            animateContentTransition(() => {
                renderGrades();
                contentBackButtonContainer.classList.remove('hidden');
            });
        }

        function renderGrades() {
            const title = document.createElement('h3');
            title.className = 'text-2xl font-semibold text-gray-700 mb-6';
            title.textContent = 'Selecciona un Grado';
            contentDisplayArea.appendChild(title);

            const gridDiv = document.createElement('div');
            gridDiv.className = 'grid grid-cols-1 md:grid-cols-2 gap-6 w-full';

            educationData.forEach(item => {
                const button = createCustomButton(item.grade, () => handleGradeSelect(item.grade));
                gridDiv.appendChild(button);
            });
            contentDisplayArea.appendChild(gridDiv);
            currentContentView = 'grades';
        }

        function handleGradeSelect(gradeName) {
            selectedGradeData = educationData.find(g => g.grade === gradeName);
            animateContentTransition(() => {
                renderSubjects();
            });
        }

        function renderSubjects() {
            const title = document.createElement('h3');
            title.className = 'text-2xl font-semibold text-gray-700 mb-6';
            title.textContent = `Asignaturas de ${selectedGradeData.grade}`;
            contentDisplayArea.appendChild(title);

            const gridDiv = document.createElement('div');
            gridDiv.className = 'grid grid-cols-1 md:grid-cols-2 gap-6 w-full';

            selectedGradeData.subjects.forEach(subject => {
                const button = createCustomButton(subject.name, () => handleSubjectSelect(subject.name));
                gridDiv.appendChild(button);
            });
            contentDisplayArea.appendChild(gridDiv);
            currentContentView = 'subjects';
        }

        function handleSubjectSelect(subjectName) {
            selectedSubjectData = selectedGradeData.subjects.find(s => s.name === subjectName);
            animateContentTransition(() => {
                renderTopics();
            });
        }

        function renderTopics() {
            currentView = 'topics';
            const title = document.createElement('h3');
            title.className = 'text-2xl font-semibold text-gray-700 mb-6';
            title.textContent = `Temas de ${selectedSubjectData.name}`;
            contentDisplayArea.appendChild(title);

            const gridDiv = document.createElement('div');
            gridDiv.className = 'grid grid-cols-1 gap-4 w-full';

            selectedSubjectData.topics.forEach(topic => {
                const link = document.createElement('a');
                link.href = topic.file; // Corrected download link
                link.download = true; // Suggests download
                link.className = 'flex items-center justify-between p-4 bg-blue-50 hover:bg-blue-100 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 ease-in-out border border-blue-200';
                link.innerHTML = `
                    <span class="text-lg font-medium text-blue-800">${topic.title}</span>
                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l3-3m-3 3l-3-3m0 6h12a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                    </svg>
                `;
                gridDiv.appendChild(link);
            });
            contentDisplayArea.appendChild(gridDiv);
            currentContentView = 'topics';
        }

        contentBackButton.addEventListener('click', () => {
            animateContentTransition(() => {
                if (currentContentView === 'subjects') {
                    renderGrades();
                    selectedGradeData = null;
                } else if (currentContentView === 'topics') {
                    renderSubjects();
                    selectedSubjectData = null;
                } else {
                    renderInitialContentButton(); // Should not happen if logic is correct
                }
            });
        });

        // --- Initialize on DOMContentLoaded ---
        document.addEventListener('DOMContentLoaded', () => {
            // Set current year in footer
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // Render initial content for download section
            renderInitialContentButton();

            // Render desktop and mobile navigation menus
            renderDesktopNav();
            renderMobileNav();
        });
    </script>
</body>
</html>
